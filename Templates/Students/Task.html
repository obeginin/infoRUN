<!-- Templates/Tasks/tasks.html -->
{% extends "base.html" %}

{% block title %}Задача{% endblock %}
{% block title_1 %}Задача№{{ SubTaskID }}{% endblock %}
{% block content %}
   <div id="subtask-container"></div>

    <script>
        // Подготовим данные из шаблона
        const subtask = {{ subtask | tojson }};
        const task = Array.isArray(subtask) ? subtask[0] : subtask;

        // Заполняем контейнер
        const container = document.getElementById("subtask-container");
        container.innerHTML = `
            <p><strong>ID подзадачи:</strong> ${task.SubTaskID}</p>
            <p><strong>Статус:</strong> ${task.CompletionStatus}</p>
            <p><strong>Оценка:</strong> ${task.Score}</p>
            <p><strong>Дата выполнения:</strong> ${task.CompletionDate ?? "—"}</p>
            <p><strong>Ответ:</strong> ${task.StudentAnswer ?? "—"}</p>
        `;
    </script>
{% endblock %}