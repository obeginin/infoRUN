(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2733],{422:e=>{e.exports={spinner:"LoadingSpinner_spinner__zVFoh",loader:"LoadingSpinner_loader__ykQAA",rotate:"LoadingSpinner_rotate__azkfj",ball1:"LoadingSpinner_ball1__nu5rH",ball2:"LoadingSpinner_ball2__Z73WY"}},3257:e=>{e.exports={group:"createTask_group__XSvRW"}},5003:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});let l={src:"/_next/static/media/group.27ede8d3.svg",height:2234,width:1440,blurWidth:0,blurHeight:0}},5077:(e,a,n)=>{"use strict";n.d(a,{CreateForm:()=>N});var l=n(5155),t=n(4403),r=n(7814),s=n(9624),i=n.n(s);let o=e=>{let{value:a,onChange:n,placeholder:t="Введите текст..."}=e;return(0,l.jsx)("textarea",{className:i().textarea,value:a,onChange:n,placeholder:t,rows:4})};var c=n(2115),_=n(9986),d=n.n(_),p=n(8045),u=n(6298),m=n.n(u);let v=e=>{let{file:a,onChange:n}=e,[t,r]=(0,c.useState)(null),[s,i]=(0,c.useState)(!1),o=(0,c.useRef)(null),_=(0,c.useCallback)(e=>{if(e&&e.type.startsWith("image/")){n(e);let a=new FileReader;a.onload=e=>{var a;return r(null==(a=e.target)?void 0:a.result)},a.readAsDataURL(e)}},[n]);return(0,l.jsx)("div",{className:"".concat(m().input__container," ").concat(s?m().dragging:""),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),i(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),i(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),i(!1);let a=e.dataTransfer.files[0];a&&_(a)},onClick:()=>{var e;null==(e=o.current)||e.click()},children:t?(0,l.jsxs)("div",{className:m().preview,children:[(0,l.jsx)("img",{src:t,alt:"Preview",className:m().preview__image}),(0,l.jsx)("i",{className:"pi pi-times",onClick:()=>{n(null),r(null),o.current&&(o.current.value="")}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{className:m().label,children:[(0,l.jsx)("input",{ref:o,type:"file",className:m().input,onChange:e=>{var a;let n=null==(a=e.target.files)?void 0:a[0];n&&_(n)},accept:"image/*"}),(0,l.jsx)("span",{children:s?"Отпустите файл":"Загрузить файл"})]}),(0,l.jsx)("p",{className:m().hint,children:"PNG, JPG, GIF до 10MB"}),(0,l.jsx)("p",{className:m().hint,children:"Или перетащите файл сюда"})]})})};var h=n(3208),x=n(6330),g=n(6874),j=n.n(g);let N=()=>{let{subjects:e,getSubjects:a,setSubject:n,getTaskNumber:s,subject:i,loading:_,error:u,tasks:m,task:g,setTask:N,getVarinants:f,variants:b,variant:C,setVariant:k,answer:w,setAnswer:I,image:P,setImage:D}=(0,t.L)();return(0,c.useEffect)(()=>{a(),f()},[]),(0,c.useEffect)(()=>{i&&s(i.ID)},[i]),(0,l.jsx)("section",{children:(0,l.jsx)(p.K,{children:!_||e&&0!==e.length||m&&0!==m.length?(0,l.jsxs)("form",{className:d().form,children:[(0,l.jsxs)("div",{className:d().select__container,children:[(0,l.jsx)("i",{className:"pi pi-chevron-down ".concat(d().icon)}),(0,l.jsxs)("select",{className:d().select,value:(null==i?void 0:i.Name)||"",onChange:a=>{let l=null==e?void 0:e.find(e=>e.Name===a.target.value);l&&n(l)},children:[(0,l.jsx)("option",{value:"",children:"Выберите предмет"}),null==e?void 0:e.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.ID))]})]}),(0,l.jsxs)("div",{className:d().select__container,children:[(0,l.jsx)("i",{className:"pi pi-chevron-down ".concat(d().icon)}),(0,l.jsxs)("select",{className:d().select,value:(null==g?void 0:g.TaskTitle)||"",onChange:e=>{let a=null==m?void 0:m.find(a=>a.TaskTitle===e.target.value);a&&N(a)},children:[(0,l.jsx)("option",{value:"",children:"Выберите категорию"}),null==m?void 0:m.map(e=>(0,l.jsx)("option",{value:e.TaskTitle,children:e.TaskTitle},e.TaskID))]})]}),(0,l.jsxs)("div",{className:d().select__container,children:[(0,l.jsx)("i",{className:"pi pi-chevron-down ".concat(d().icon)}),(0,l.jsxs)("select",{className:d().select,value:(null==C?void 0:C.VariantName)||"",onChange:e=>{let a=null==b?void 0:b.find(a=>a.VariantName===e.target.value);a&&k(a)},children:[(0,l.jsx)("option",{value:"",children:"Выберите вариант"}),null==b?void 0:b.map(e=>(0,l.jsx)("option",{value:e.VariantName,children:e.VariantName},e.VariantID))]})]}),(0,l.jsx)(o,{onChange:e=>I(e.target.value),value:w,placeholder:"Введите ответ"}),(0,l.jsxs)("div",{className:d().container,children:[(0,l.jsx)(h.f,{size:"small",children:"Изображение с решением"}),(0,l.jsx)(v,{file:P,onChange:D})]}),(0,l.jsxs)("div",{className:d().btn__container,children:[(0,l.jsx)(x.$,{outlined:!0,children:"Вернуться назад"}),(0,l.jsx)(j(),{href:"/profile/create-task/constructor",children:(0,l.jsx)(x.$,{color:"white",filled:!0,children:"Перейти в конструктор"})})]})]}):(0,l.jsx)(r.y,{})})})}},6006:(e,a,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,3063,23)),Promise.resolve().then(n.bind(n,5003)),Promise.resolve().then(n.t.bind(n,3257,23)),Promise.resolve().then(n.bind(n,5077)),Promise.resolve().then(n.t.bind(n,7465,23)),Promise.resolve().then(n.t.bind(n,2078,23)),Promise.resolve().then(n.bind(n,7364))},6298:e=>{e.exports={input__container:"InputImage_input__container__tddxO",label:"InputImage_label___rHnc",preview:"InputImage_preview__yMoq2",preview__image:"InputImage_preview__image__urWFM"}},7814:(e,a,n)=>{"use strict";n.d(a,{y:()=>s});var l=n(5155),t=n(422),r=n.n(t);let s=()=>(0,l.jsx)("div",{className:r().spinner,children:(0,l.jsx)("span",{className:r().loader})})},9624:e=>{e.exports={textarea:"TextArea_textarea__sC88j"}},9986:e=>{e.exports={select:"CreateForm_select__Vq6Nf",option:"CreateForm_option__84tl6",select__container:"CreateForm_select__container__Z_CHy",icon:"CreateForm_icon__DfC0l",container:"CreateForm_container__21I5p",form:"CreateForm_form__5oDxf",btn__container:"CreateForm_btn__container__8T0oH"}}},e=>{e.O(0,[7181,7,7446,3068,5837,8441,5964,7358],()=>e(e.s=6006)),_N_E=e.O()}]);