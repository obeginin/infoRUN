(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9738],{92:e=>{e.exports={container:"TaskConstructor_container__jHOjN",taskConstructor:"TaskConstructor_taskConstructor__6aQ2A"}},1639:()=>{},3010:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.bind(t,3983)),Promise.resolve().then(t.t.bind(t,7465,23)),Promise.resolve().then(t.t.bind(t,2078,23)),Promise.resolve().then(t.t.bind(t,1639,23)),Promise.resolve().then(t.bind(t,7364))},3983:(e,s,t)=>{"use strict";t.d(s,{TaskConstructor:()=>k});var r=t(5155),i=t(8045),n=t(3208),l=t(6307),a=t.n(l),o=t(6330);let c=e=>{let{onAddElement:s,subject:t,task:l}=e;return(0,r.jsx)(i.K,{children:(0,r.jsxs)("div",{className:a().header,children:[(0,r.jsxs)(n.f,{children:[t,": ",l]}),(0,r.jsxs)("div",{className:a().buttons,children:[(0,r.jsx)(n.f,{children:"Добавить:"}),(0,r.jsx)(o.$,{filled:!0,color:"white",onClick:()=>s("text"),children:"Текст"}),(0,r.jsx)(o.$,{filled:!0,color:"white",onClick:()=>s("image"),children:"Изображение"})]})]})})};var d=t(4753),h=t.n(d);let x=e=>{let{element:s,onUpdate:t,onRemove:i,onMove:l}=e;return(0,r.jsx)("div",{className:h().container,children:(0,r.jsxs)("div",{className:h().header,children:[(0,r.jsx)("span",{children:"text"===s.type?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,r.jsx)("i",{className:"pi pi-pen-to-square"}),(0,r.jsx)(n.f,{size:"tiny",children:"Текстовое поле"})]}):(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,r.jsx)("i",{className:"pi pi-image"}),(0,r.jsx)(n.f,{size:"tiny",children:"Изображение"})]})}),(0,r.jsxs)("div",{className:h().arrows,children:[(0,r.jsx)("i",{className:"pi pi-chevron-down",onClick:()=>l(s.id,"down")}),(0,r.jsx)("i",{className:"pi pi-chevron-up",onClick:()=>l(s.id,"up")})]}),(0,r.jsx)("div",{onClick:()=>i(s.id),className:h().delete,children:(0,r.jsx)("i",{className:"pi pi-trash"})})]})})};var m=t(92),j=t.n(m),u=t(4403),p=t(2115),_=t(4173);t(2878);let k=()=>{let{elements:e,addElement:s,updateElement:t,removeElement:l,moveElement:a,handleSave:d,loading:h,success:m,error:k,image:v}=(0,u.L)(),f=(0,p.useRef)(null),N=localStorage.getItem("constructor-storage"),[C,g]=(0,p.useState)(""),[b,T]=(0,p.useState)("");(0,p.useEffect)(()=>{let e=localStorage.getItem("constructor-storage");if(!e)return;let s=JSON.parse(e||"");g(s.state.subject.Name),T(s.state.task.TaskTitle)},[N]);let y=(e,s)=>{var t;null==(t=f.current)||t.show({severity:s,summary:e,life:3e3})};return(0,p.useEffect)(()=>{k&&y(k,"error"),m&&y(m,"success")},[k,m]),(0,r.jsxs)("div",{className:j().taskConstructor,children:[(0,r.jsx)(_.y,{ref:f,position:"bottom-left"}),(0,r.jsx)(c,{onAddElement:s,subject:C,task:b}),(0,r.jsx)(i.K,{children:(0,r.jsxs)("div",{className:j().container,children:[e.map(e=>(0,r.jsx)(x,{element:e,onUpdate:t,onRemove:l,onMove:a},e.id)),e.length>0&&(0,r.jsx)(o.$,{loading:h,color:"white",filled:!0,onClick:()=>d(),children:"Сохранить"}),0===e.length&&(0,r.jsx)("div",{children:(0,r.jsx)(n.f,{children:"Добавьте первый элемент задачи"})})]})})]})}},4753:e=>{e.exports={container:"TaskElement_container__Trljt",header:"TaskElement_header__yJkNu",delete:"TaskElement_delete__IBrBc",arrows:"TaskElement_arrows__yN1jW"}},6307:e=>{e.exports={header:"CreateTaskHeader_header__hKTKQ",buttons:"CreateTaskHeader_buttons__E7pZi"}}},e=>{e.O(0,[7,4599,7446,3068,2600,4786,5837,8441,5964,7358],()=>e(e.s=3010)),_N_E=e.O()}]);