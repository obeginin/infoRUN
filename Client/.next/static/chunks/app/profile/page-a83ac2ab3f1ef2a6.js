(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{189:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var s=r(5155),n=r(539),a=r.n(n);let o=e=>{let{children:t,onClick:r,border:n="primary",ref:o}=e;return(0,s.jsx)("div",{ref:o,className:a().task,onClick:r,style:{border:"1px solid var(--".concat(n,")")},children:t})}},255:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23)),Promise.resolve().then(r.bind(r,5003)),Promise.resolve().then(r.bind(r,4053)),Promise.resolve().then(r.t.bind(r,362,23)),Promise.resolve().then(r.t.bind(r,7761,23)),Promise.resolve().then(r.t.bind(r,2953,23)),Promise.resolve().then(r.t.bind(r,7465,23)),Promise.resolve().then(r.t.bind(r,2078,23)),Promise.resolve().then(r.t.bind(r,4001,23)),Promise.resolve().then(r.t.bind(r,6862,23)),Promise.resolve().then(r.bind(r,7364)),Promise.resolve().then(r.t.bind(r,6633,23)),Promise.resolve().then(r.t.bind(r,3332,23)),Promise.resolve().then(r.bind(r,1350)),Promise.resolve().then(r.bind(r,2714)),Promise.resolve().then(r.bind(r,9277)),Promise.resolve().then(r.t.bind(r,1951,23)),Promise.resolve().then(r.bind(r,4538))},362:e=>{e.exports={link:"ALink_link__OwqEr"}},525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});class s{static async login(e,t){return(await fetch("".concat("https://info-run.ru","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Login:e,Password:t})})).json()}static async loginV2(e,t){return(await fetch("".concat("https://info-run.ru","/api/auth/login/v2"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,password:t})})).json()}static async logout(e){return(await fetch("".concat("https://info-run.ru","/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()}static async resetPassword(e){return(await fetch("".concat("https://info-run.ru","/api/auth/password_reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:e})})).json()}static async resetPasswordWithToken(e,t,r){let s=await fetch("".concat("https://info-run.ru","/api/auth/password_reset_with_token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,new_password:t,repeat_new_password:r})});return s.status,s.json()}}},539:e=>{e.exports={task:"Task_task__D6uC8"}},1350:(e,t,r)=>{"use strict";r.d(t,{ProfileCreateTask:()=>h});var s=r(5155),n=r(8056),a=r(4007),o=r.n(a),i=r(8045),l=r(6330),c=r(3208),d=r(6874),_=r.n(d);let h=()=>{let e=(0,n.k)(e=>e.user);return(0,s.jsx)(s.Fragment,{children:(null==e?void 0:e.RoleName)!=="Ученик"&&(0,s.jsx)(i.K,{children:(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsx)(l.$,{outlined:!0,children:"Создать задачу"}),(0,s.jsx)(c.f,{size:"base",children:"Создавайте задачи для своих учеников в нашем конструкторе заданий!"}),(0,s.jsx)(_(),{href:"/profile/create-task",children:(0,s.jsx)(l.$,{width:"auto",color:"white",border:"white",filled:!0,children:"Перейти в конструктор"})})]})})})}},1951:e=>{e.exports={motivation__exam:"ProfileMotivation_motivation__exam__WQEsp",motivation__exam__img:"ProfileMotivation_motivation__exam__img__p7iXs"}},2078:e=>{e.exports={link:"AnimationLink_link__b_WaA"}},2714:(e,t,r)=>{"use strict";r.d(t,{ProfileGreatings:()=>j});var s=r(5155),n=r(8045);let a={src:"/_next/static/media/edit_white.5f5dab21.svg",height:29,width:28,blurWidth:0,blurHeight:0};var o=r(8056),i=r(6330),l=r(3208),c=r(2115),d=r(3494),_=r(4981),h=r.n(_);class u{static async changePassword(e,t,r,s){return(await fetch("".concat("https://info-run.ru","/api/auth/change-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({old_password:e,new_password:t,repeat_new_password:r})})).json()}}let p=()=>{let[e,t]=(0,c.useState)(""),[r,n]=(0,c.useState)(""),[a,o]=(0,c.useState)(""),_=localStorage.getItem("token");return(0,s.jsx)("div",{className:h().change__password__container,children:(0,s.jsxs)("div",{className:h().change__password,children:[(0,s.jsx)(l.f,{size:"medium",children:"Сменить пароль"}),(0,s.jsx)(d.p,{value:e,onChange:e=>t(e.target.value),type:"password",label:"Старый пароль"}),(0,s.jsx)(d.p,{value:r,onChange:e=>n(e.target.value),type:"password",label:"Новый пароль"}),(0,s.jsx)(d.p,{value:a,onChange:e=>o(e.target.value),type:"password",label:"Повторите пароль"}),(0,s.jsx)(i.$,{onClick:()=>{try{u.changePassword(e,r,a,_||""),console.log("ok change password")}catch(e){console.log(e)}},children:"Сохранить"})]})})};var g=r(3342),m=r(6766),f=r(9343),x=r.n(f);let j=()=>{let e=(0,o.k)(e=>e.user),[t,r]=(0,c.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.K,{color:"primary",children:(0,s.jsxs)("div",{className:x().greatings,children:[(0,s.jsxs)("div",{className:x().greatings__left,children:[(0,s.jsxs)(l.f,{size:"large",color:"white",children:["Привет,"," ",(null==e?void 0:e.First_Name)?e.First_Name:"новый пользователь","!"]}),(0,s.jsx)(l.f,{color:"white",children:"ЕГЭ, которое ты сдаешь: Информатика"})]}),(0,s.jsxs)("div",{className:x().greatings__right,children:[(0,s.jsxs)("div",{className:x().edit__email,children:[(0,s.jsx)(l.f,{color:"white",children:null==e?void 0:e.Email}),(0,s.jsx)(m.default,{src:a,alt:"",style:{cursor:"pointer"}})]}),(0,s.jsx)(i.$,{border:"white",color:"white",outlined:!0,onClick:()=>r(!t),children:"Сменить пароль"})]})]})}),t&&(0,s.jsx)(g.K,{visible:t,setVdisible:r,children:(0,s.jsx)(p,{})})]})}},2953:e=>{e.exports={breadCrumb:"BreadCrumb_breadCrumb__zNAyP",span:"BreadCrumb_span__jPz6L"}},3208:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var s=r(5155);let n=e=>{let{children:t,size:r="base",f_weight:n="light",color:a}=e;return(0,s.jsx)("p",{style:{fontSize:"var(--".concat(r,")"),fontWeight:"var(--fw_".concat(n,")"),color:"var(--".concat(a,")")},children:t})}},3332:e=>{e.exports={profile__dashboard:"profile_profile__dashboard__uWRwl",profile__dashboard__content:"profile_profile__dashboard__content__1dt0S",group:"profile_group__4J__d"}},3342:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var s=r(5155),n=r(5657),a=r(3870),o=r.n(a);let i=e=>{let{children:t,visible:r,setVdisible:a,closeIcon:i=!1}=e;return(0,s.jsx)(n.l,{className:o().dialog,visible:r,onHide:()=>a(!1),closeIcon:i,children:t})}},3429:e=>{e.exports={header:"Header_header__mjk9B",scrolled:"Header_scrolled__UEvVD",content__right:"Header_content__right__Xotbx",list:"Header_list__Oc7Pz",burger:"Header_burger__do6Rn",theme_switcher:"Header_theme_switcher__kCJqk",dark:"Header_dark__lAzRt",light:"Header_light__Whbrs"}},3494:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),n=r(2115),a=r(5054),o=r.n(a);let i=e=>{let{type:t="text",label:r,value:a,onChange:i,radius:l="32px",error_text:c,required:d=!1}=e,[_,h]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:o().input__container,children:[(0,s.jsx)("input",{required:d,type:"password"===t&&_?"text":t,className:o().input+"".concat(c?" "+o().error:""),value:a,onChange:i,style:{borderRadius:l}}),(0,s.jsx)("label",{className:o().label,children:r}),c&&(0,s.jsx)("label",{className:o().error__label,children:c}),"password"===t&&(0,s.jsx)("button",{type:"button",className:o().password__toggle,onClick:()=>{h(!_)},"aria-label":_?"Скрыть пароль":"Показать пароль",children:(0,s.jsx)("i",{className:"pi ".concat(_?"pi-eye":"pi-eye-slash")})})]})}},3870:e=>{e.exports={dialog:"IDialog_dialog__VHMYO"}},4001:e=>{e.exports={outside__content:"ProfileContentContainer_outside__content__7rkiJ",content:"ProfileContentContainer_content__90rmg"}},4007:e=>{e.exports={container:"ProfileCreateTask_container__kYhN3"}},4053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/_next/static/media/blackboard.060eef0f.svg",height:120,width:120,blurWidth:0,blurHeight:0}},4291:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});class s{static async getStudentTask(e,t,r,s){return(await fetch("".concat("https://info-run.ru","/api/students_subtasks/").concat(e,"?limit=").concat(r,"&offset=").concat(s),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json()}static async getAllTasks(e,t){return(await fetch("".concat("https://info-run.ru","/api/students_subtasks/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).json()}static async getTask(e,t,r){return(await fetch("".concat("https://info-run.ru","\n      /api/students_subtasks/").concat(e,"/StudentTask/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}})).json()}static async checkAnswer(e,t,r){return(await fetch("".concat("https://info-run.ru","/api/students_subtasks/check-answer/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subtaskId:e,studentId:t,student_answer:r})})).json()}}},4538:(e,t,r)=>{"use strict";r.d(t,{ProfileProgress:()=>f});var s=r(5155),n=r(4291),a=r(8045),o=r(6330),i=r(3208),l=r(6672),c=r.n(l),d=r(2115),_=r(8056),h=r(5213),u=r.n(h);let p=e=>{let{total:t,completed:r}=e,n=2*Math.PI*105,a=t>0?Math.min(100,Math.round(r/t*100)):0;return(0,s.jsx)("div",{className:u().progressWrapper,children:(0,s.jsxs)("svg",{height:240,width:240,children:[(0,s.jsx)("circle",{stroke:"#dbe6fd",fill:"none",strokeWidth:30,cx:120,cy:120,r:105}),(0,s.jsx)("circle",{stroke:"#639aff",fill:"none",strokeWidth:30,strokeDasharray:n,strokeDashoffset:n-a/100*n,cx:120,cy:120,r:105,style:{transition:"stroke-dashoffset 0.5s"}}),(0,s.jsxs)("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"24px",fontFamily:"Lato",fill:"#639aff",children:[a,"%"]})]})})};var g=r(189),m=r(5695);let f=()=>{let e=(0,m.useRouter)(),t=(0,_.k)(e=>e.user),[r,l]=(0,d.useState)([]),[h,u]=(0,d.useState)(0),f=localStorage.getItem("token");return(0,d.useEffect)(()=>{r.length&&u(r.filter(e=>"Выполнено"===e.CompletionStatus).length)},[r]),(0,d.useEffect)(()=>{t&&n.A.getAllTasks(t.ID,f||"").then(e=>l(e)).catch(e=>console.log(e))},[t,f]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.K,{children:[(0,s.jsx)(o.$,{disabled:!0,outlined:!0,children:"Прогресс"}),(0,s.jsxs)("div",{className:c().progress__item,children:[(0,s.jsx)(p,{completed:h,total:r.length}),(0,s.jsx)(i.f,{children:"Информатика"}),(0,s.jsxs)(i.f,{color:"primary",children:["Выполнено ",h," из ",r.length," заданий"]})]}),(0,s.jsxs)("div",{className:c().progress__item,children:[r.length>0?r.slice(0,5).map(e=>(0,s.jsx)(g.Y,{children:(0,s.jsxs)(i.f,{children:["Задание ",e.SubTaskID,": ",e.TaskTitle," ",e.VariantName]})},e.StudentTaskID)):(0,s.jsx)(g.Y,{children:(0,s.jsx)(i.f,{children:"Заданий нет"})}),(0,s.jsx)("div",{className:c().arrow,onClick:()=>e.push("/profile/all-tasks"),children:(0,s.jsx)("i",{className:"pi pi-angle-down"})})]})]})})}},4981:e=>{e.exports={change__password:"ChangePassword_change__password__Pw6Rm"}},5003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/_next/static/media/group.27ede8d3.svg",height:2234,width:1440,blurWidth:0,blurHeight:0}},5054:e=>{e.exports={input__container:"Input_input__container__995Fx",label:"Input_label__dSg8c",error:"Input_error__fm0DP",input:"Input_input__MqBoX",error__label:"Input_error__label__P37Ti",password__toggle:"Input_password__toggle__FdkGg"}},5213:e=>{e.exports={progressWrapper:"CircualProgress_progressWrapper__I1B63",progressLabel:"CircualProgress_progressLabel__2U3Zp"}},6330:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(5155),n=r(6862),a=r.n(n);let o=e=>{let{children:t,disabled:r=!1,onClick:n,radius:o="32px",filled:i=!1,border:l,outlined:c=!1,color:d="text",style:_,type:h,width:u="auto",loading:p=!1,size:g="base",fontSize:m="base"}=e;return p&&(r=!0),(0,s.jsx)("button",{type:h,style:_||{zIndex:10,width:"full"===u?"100%":"auto",fontSize:"var(--".concat(m,")"),borderRadius:o,padding:"base"===g?"10px 25px":"5px 10px",backgroundColor:i?"var(--primary)":"transparent",color:d?"var(--".concat(d,")"):i?"var(--bg)":"var(--text)",border:l?"1px solid var(--".concat(l,")"):c?"1px solid var(--primary)":"none"},className:"".concat(a().button," ").concat(r?a().disabled:a().active," ").concat(c?a().outlined:""),disabled:r,onClick:n,children:p?(0,s.jsx)("span",{style:{fontSize:"1.2rem"},className:"".concat(a().spinner," ")}):t})}},6633:e=>{e.exports={counter__exam:"ProfileCounterExam_counter__exam__bd7CU"}},6672:e=>{e.exports={progress__item:"ProfileProgress_progress__item__UxMGQ",progress__item__content:"ProfileProgress_progress__item__content__O3eW4",arrow:"ProfileProgress_arrow__wLI4V"}},6862:e=>{e.exports={button:"Button_button__MKRSq",disabled:"Button_disabled__zBBD3",active:"Button_active__ecv28",spinner:"Button_spinner__C4NUU",pulseSpin:"Button_pulseSpin__3QKkJ"}},7364:(e,t,r)=>{"use strict";r.d(t,{Header:()=>p});var s=r(5155);let n={src:"/_next/static/media/burger-menu.f63868ce.svg",height:40,width:40,blurWidth:0,blurHeight:0};var a=r(6330),o=r(3429),i=r.n(o),l=r(8056),c=r(6874),d=r.n(c),_=r(6766),h=r(7374),u=r(2115);let p=()=>{let e=(0,l.k)(e=>e.logout),t=(0,l.k)(e=>e.user),[r,o]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{let e=()=>{window.scrollY>100?o(!0):o(!1)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsx)("header",{children:(0,s.jsx)("div",{className:"".concat(i().header," ").concat(r?i().scrolled:""),children:(0,s.jsxs)("div",{className:i().content__right,children:[(0,s.jsx)(_.default,{src:n,alt:"",className:i().burger}),(null==t?void 0:t.RoleName)==="Админ"&&(0,s.jsx)(d(),{href:"/admin",children:(0,s.jsx)(a.$,{color:"white",filled:!0,children:"admin"})}),(0,s.jsxs)("ul",{className:i().list,children:[(0,s.jsx)(h.H,{href:"/profile",size:"base",children:"Профиль"}),(0,s.jsx)(h.H,{href:"/profile/all-tasks",size:"base",children:"Мои задачи"}),(0,s.jsx)(h.H,{href:"/",size:"base",children:"Категории заданий"})]}),t?(0,s.jsx)(a.$,{outlined:!0,onClick:e,children:"Выйти"}):(0,s.jsx)(d(),{href:"/auth",children:(0,s.jsx)(a.$,{color:"white",filled:!0,children:"Войти"})})]})})})}},7374:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var s=r(5155),n=r(2078),a=r.n(n),o=r(6874),i=r.n(o);let l=e=>{let{children:t,href:r,size:n="base",...o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("li",{...o,className:a().link,style:{fontSize:"var(--".concat(n,")")},children:(0,s.jsx)(i(),{href:r||"/",children:t})})})}},7465:e=>{e.exports={footer:"Footer_footer__0UEuE",bottom:"Footer_bottom__Cb1G_",line:"Footer_line__uYmv3",vertical__line:"Footer_vertical__line__lDeQ6","footer-sticky":"Footer_footer-sticky__E_fhZ",container:"Footer_container__MzX7a",mobile:"Footer_mobile__D4940",content:"Footer_content__vgu2q"}},7761:e=>{e.exports={list:"UlLi_list__5rBeg"}},7874:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});class s{static async getUsers(e){return(await fetch("".concat("https://info-run.ru","/api/students"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()}static async DeleteUser(e,t){return(await fetch("".concat("https://info-run.ru","/api/admin/delete_student?email=").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()}static async ChangePassword(e,t,r){return(await fetch("".concat("https://info-run.ru","/api/admin/students/").concat(t,"/change-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({new_password:r})})).json()}static async adminRoles(e){return(await fetch("".concat("https://info-run.ru","/api/admin/roles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()}static async getStudentLogs(e,t){return(await fetch("".concat("https://info-run.ru","/api/admin/students/").concat(t,"/logs"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).json()}}},8045:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var s=r(5155),n=r(4001),a=r.n(n);let o=e=>{let{children:t,width:r,color:n,borderColor:o}=e;return(0,s.jsx)("div",{className:a().outside__content,style:{maxWidth:r},children:(0,s.jsx)("div",{className:a().content,style:{backgroundColor:n?"var(--".concat(n,")"):"",border:o?"1px solid var(--".concat(n,")"):"1px solid var(--primary)",transition:"all 0.2s ease-in-out"},children:t})})}},8056:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var s=r(5453),n=r(6786),a=r(525);let o=(0,s.v)((0,n.Zr)((0,n.kg)({user:null,token:null,error:null,loading:!1},e=>({login:async(t,r)=>{e({loading:!0});try{let s=await a.A.loginV2(t,r);if(s.detail){e({error:{error:s.detail.error||"Validation Error",message:s.detail.message||"Invalid credentials"},loading:!1}),console.log(s.detail);return}e({user:s.student,token:s.access_token,error:null,loading:!1}),localStorage.setItem("token",s.access_token),console.log(localStorage.getItem("token"))}catch(r){let t="Authorization error";r instanceof Error&&(t=r.message),e({error:{error:"Authorization error",message:t},loading:!1}),console.log(r)}},logout:async()=>{try{let t=localStorage.getItem("token");await a.A.logout(t||""),e({user:null,token:null}),localStorage.removeItem("token")}catch(e){console.log(e)}},clearError:()=>e({error:null})})),{name:"user-storage"}))},9111:e=>{e.exports={content:"ProfileHistory_content__L_vpD"}},9277:(e,t,r)=>{"use strict";r.d(t,{ProfileHistory:()=>g});var s=r(5155),n=r(9111),a=r.n(n),o=r(8045),i=r(3208),l=r(2115),c=r(7874),d=r(8056),_=r(189),h=r(6330),u=r(5936),p=r(9223);let g=()=>{let[e,t]=(0,l.useState)([]),r=localStorage.getItem("token"),n=(0,d.k)(e=>e.user);return(0,l.useEffect)(()=>{c.A.getStudentLogs(r,null==n?void 0:n.ID).then(e=>t(e)).catch(e=>console.error(e))},[n,r]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.K,{children:(0,s.jsxs)("div",{className:a().container,children:[(0,s.jsx)(h.$,{disabled:!0,filled:!0,color:"white",children:"История действий"}),(0,s.jsx)("div",{className:a().content,children:e.slice(0,10).map(e=>(0,s.jsx)("div",{className:a().card,children:(0,s.jsxs)(_.Y,{children:[(0,s.jsxs)(i.f,{children:["#",e.LogID," ",(0,s.jsx)("span",{children:e.DescriptionEvent})]}),(0,s.jsx)(i.f,{size:"small",children:(0,u.GP)(new Date(e.EventTime),"dd.MM.yyyy HH:mm",{locale:p.ru})})]})},e.LogID))})]})})})}},9343:e=>{e.exports={greatings:"ProfileGreatings_greatings__KSJXF",greatings__left:"ProfileGreatings_greatings__left__Mkr58",greatings__right:"ProfileGreatings_greatings__right__jbWl9",edit__email:"ProfileGreatings_edit__email__6zpVj"}}},e=>{e.O(0,[7446,6545,1178,3068,2600,5657,5848,8441,5964,7358],()=>e(e.s=255)),_N_E=e.O()}]);