import { useSyncExternalStore as a } from "react";
const d = (s) => {
  let e;
  const o = /* @__PURE__ */ new Set(), r = (t) => {
    const S = typeof t == "function" ? t(e) : t;
    if (!Object.is(S, e)) {
      const f = e;
      e = S, o.forEach((i) => i(e, f));
    }
  }, n = () => e, c = () => e, u = (t) => (o.add(t), () => o.delete(t));
  return typeof s == "function" ? e = s(r, n) : e = s, {
    set: r,
    get: n,
    use: (t) => a(
      u,
      () => t ? t(n()) : n(),
      () => t ? t(c()) : c()
    ),
    subscribe: u
  };
};
export {
  d as createStore
};
//# sourceMappingURL=createStore.mjs.map
