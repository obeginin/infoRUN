import { useState as u, useEffect as g } from "react";
import { useRerender as i } from "../useRerender/useRerender.mjs";
const a = (t) => {
  const e = t.rangeCount ?? 0;
  return Array.from({ length: e }, (c, o) => t.getRangeAt(o));
}, m = () => {
  const t = i(), [e, c] = u(
    typeof document < "u" ? document.getSelection() : null
  );
  g(() => {
    const n = () => {
      c(document.getSelection()), t();
    };
    return document.addEventListener("selectionchange", n), () => document.removeEventListener("selectionchange", n);
  }, []);
  const o = e?.toString() ?? "", r = e ? a(e) : [], s = r.map((n) => n.getBoundingClientRect());
  return {
    text: o,
    ranges: r,
    rects: s,
    selection: e
  };
};
export {
  a as getRangesSelection,
  m as useTextSelection
};
//# sourceMappingURL=useTextSelection.mjs.map
