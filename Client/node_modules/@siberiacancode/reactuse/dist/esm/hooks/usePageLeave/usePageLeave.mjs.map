{"version":3,"file":"usePageLeave.mjs","sources":["../../../../src/hooks/usePageLeave/usePageLeave.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { useEvent } from '../useEvent/useEvent';\n\n/**\n * @name usePageLeave\n * @description - Hook what calls given function when mouse leaves the page\n * @category Sensors\n *\n * @param {() => void} [callback] The callback function what calls then mouse leaves the page\n * @returns {boolean} A boolean which determines if the mouse left the page\n *\n * @example\n * const isLeft = usePageLeave(() => console.log('on leave'))\n */\nexport const usePageLeave = (callback?: () => void) => {\n  const [isLeft, setIsLeft] = useState(false);\n\n  const onMouse = useEvent(() => {\n    if (isLeft) return setIsLeft(false);\n    callback?.();\n    setIsLeft(true);\n  });\n\n  useEffect(() => {\n    document.addEventListener('mouseleave', onMouse, { passive: true });\n    document.addEventListener('mouseenter', onMouse, { passive: true });\n\n    return () => {\n      document.removeEventListener('mouseenter', onMouse);\n      document.removeEventListener('mouseleave', onMouse);\n    };\n  }, []);\n\n  return isLeft;\n};\n"],"names":["usePageLeave","callback","isLeft","setIsLeft","useState","onMouse","useEvent","useEffect"],"mappings":";;AAeO,MAAMA,IAAe,CAACC,MAA0B;AACrD,QAAM,CAACC,GAAQC,CAAS,IAAIC,EAAS,EAAK,GAEpCC,IAAUC,EAAS,MAAM;AAC7B,QAAIJ,EAAQ,QAAOC,EAAU,EAAK;AAClC,IAAAF,IAAA,GACAE,EAAU,EAAI;AAAA,EAAA,CACf;AAED,SAAAI,EAAU,OACR,SAAS,iBAAiB,cAAcF,GAAS,EAAE,SAAS,IAAM,GAClE,SAAS,iBAAiB,cAAcA,GAAS,EAAE,SAAS,IAAM,GAE3D,MAAM;AACX,aAAS,oBAAoB,cAAcA,CAAO,GAClD,SAAS,oBAAoB,cAAcA,CAAO;AAAA,EAAA,IAEnD,EAAE,GAEEH;AACT;"}