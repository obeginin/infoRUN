{"version":3,"file":"useDebounceCallback.mjs","sources":["../../../../src/hooks/useDebounceCallback/useDebounceCallback.ts"],"sourcesContent":["import { useMemo, useRef } from 'react';\n\nexport type DebouncedCallback<Params extends unknown[]> = ((...args: Params) => void) & {\n  cancel: () => void;\n};\n\n/**\n * @name useDebounceCallback\n * @description - Hook that creates a debounced callback\n * @category Utilities\n *\n * @template Params The type of the params\n * @template Return The type of the return\n * @param {(...args: Params) => Return} callback The callback function\n * @param {number} delay The delay in milliseconds\n * @returns {(...args: Params) => Return} The callback with debounce\n *\n * @example\n * const debouncedCallback = useDebounceCallback(() => console.log('callback'), 500);\n */\nexport const useDebounceCallback = <Params extends unknown[], Return>(\n  callback: (...args: Params) => Return,\n  delay: number\n): DebouncedCallback<Params> => {\n  const internalCallbackRef = useRef(callback);\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const delayRef = useRef(delay);\n\n  internalCallbackRef.current = callback;\n  delayRef.current = delay;\n\n  const debounced = useMemo(() => {\n    const cancel = () => {\n      if (!timerRef.current) return;\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    };\n\n    const debouncedCallback = function (this: any, ...args: Params) {\n      cancel();\n      timerRef.current = setTimeout(() => {\n        internalCallbackRef.current.apply(this, args);\n      }, delayRef.current);\n    };\n\n    debouncedCallback.cancel = cancel;\n\n    return debouncedCallback;\n  }, []);\n\n  return debounced;\n};\n"],"names":["useDebounceCallback","callback","delay","internalCallbackRef","useRef","timerRef","delayRef","useMemo","cancel","debouncedCallback","args"],"mappings":";AAoBO,MAAMA,IAAsB,CACjCC,GACAC,MAC8B;AAC9B,QAAMC,IAAsBC,EAAOH,CAAQ,GACrCI,IAAWD,EAA6C,IAAI,GAC5DE,IAAWF,EAAOF,CAAK;AAE7B,SAAAC,EAAoB,UAAUF,GAC9BK,EAAS,UAAUJ,GAEDK,EAAQ,MAAM;AAC9B,UAAMC,IAAS,MAAM;AACnB,MAAKH,EAAS,YACd,aAAaA,EAAS,OAAO,GAC7BA,EAAS,UAAU;AAAA,IAAA,GAGfI,IAAoB,YAAwBC,GAAc;AAC9D,MAAAF,EAAA,GACAH,EAAS,UAAU,WAAW,MAAM;AAClC,QAAAF,EAAoB,QAAQ,MAAM,MAAMO,CAAI;AAAA,MAAA,GAC3CJ,EAAS,OAAO;AAAA,IAAA;AAGrB,WAAAG,EAAkB,SAASD,GAEpBC;AAAA,EAAA,GACN,EAAE;AAGP;"}