{"version":3,"file":"useDidUpdate.mjs","sources":["../../../../src/hooks/useDidUpdate/useDidUpdate.ts"],"sourcesContent":["import type { DependencyList, EffectCallback } from 'react';\n\nimport { useRef } from 'react';\n\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect/useIsomorphicLayoutEffect';\n\n/**\n * @name useDidUpdate\n * @description â€“ Hook that triggers the effect callback on updates\n * @category Lifecycle\n *\n * @param {EffectCallback} effect The effect callback\n * @param {DependencyList} [deps] The dependencies list for the effect\n *\n * @example\n * useDidUpdate(() => console.log(\"effect runs on updates\"), deps);\n */\nexport const useDidUpdate = (effect: EffectCallback, deps?: DependencyList) => {\n  const mounted = useRef(false);\n\n  useIsomorphicLayoutEffect(\n    () => () => {\n      mounted.current = false;\n    },\n    []\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (mounted.current) {\n      return effect();\n    }\n\n    mounted.current = true;\n    return undefined;\n  }, deps);\n};\n"],"names":["useDidUpdate","effect","deps","mounted","useRef","useIsomorphicLayoutEffect"],"mappings":";;AAiBO,MAAMA,IAAe,CAACC,GAAwBC,MAA0B;AAC7E,QAAMC,IAAUC,EAAO,EAAK;AAE5B,EAAAC;AAAA,IACE,MAAM,MAAM;AACV,MAAAF,EAAQ,UAAU;AAAA,IAAA;AAAA,IAEpB,CAAA;AAAA,EAAC,GAGHE,EAA0B,MAAM;AAC9B,QAAIF,EAAQ;AACV,aAAOF,EAAA;AAGT,IAAAE,EAAQ,UAAU;AAAA,EACX,GACND,CAAI;AACT;"}