{"version":3,"file":"useEyeDropper.mjs","sources":["../../../../src/hooks/useEyeDropper/useEyeDropper.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport interface ColorSelectionOptions {\n  signal?: AbortSignal;\n}\n\nexport interface ColorSelectionResult {\n  sRGBHex: string;\n}\n\nexport interface EyeDropper {\n  open: (options?: ColorSelectionOptions) => Promise<ColorSelectionResult>;\n}\n\nexport interface EyeDropperConstructor {\n  new (): EyeDropper;\n}\n\ndeclare global {\n  interface Window {\n    readonly EyeDropper?: EyeDropperConstructor | undefined;\n  }\n}\n\n/** The color selection return type */\nexport interface UseEyeDropperReturn {\n  /** The eye dropper supported status */\n  supported: boolean;\n  /** The eye dropper value */\n  value?: string;\n  /** The eye dropper open method */\n  open: (colorSelectionOptions?: ColorSelectionOptions) => Promise<ColorSelectionResult>;\n}\n\n/**\n * @name useEyeDropper\n * @description - Hook that gives you access to the eye dropper\n * @category Browser\n *\n * @browserapi EyeDropper https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper\n *\n * @param {string} [initialValue=undefined] The initial value for the eye dropper\n * @returns {UseEyeDropperReturn} An object containing the supported status, the value and the open method\n *\n * @example\n * const { supported, value, open } = useEyeDropper();\n */\nexport const useEyeDropper = (\n  initialValue: string | undefined = undefined\n): UseEyeDropperReturn => {\n  const supported = typeof window !== 'undefined' && 'EyeDropper' in window;\n  const [value, setValue] = useState(initialValue);\n\n  const open = async (colorSelectionOptions?: ColorSelectionOptions) => {\n    if (!window.EyeDropper) throw new Error('EyeDropper is not supported');\n    const eyeDropper = new window.EyeDropper();\n    const result = await eyeDropper.open(colorSelectionOptions);\n    setValue(result.sRGBHex);\n    return result;\n  };\n\n  return {\n    supported,\n    value,\n    open\n  };\n};\n"],"names":["useEyeDropper","initialValue","supported","value","setValue","useState","colorSelectionOptions","result"],"mappings":";AA+CO,MAAMA,IAAgB,CAC3BC,IAAmC,WACX;AACxB,QAAMC,IAAY,OAAO,SAAW,OAAe,gBAAgB,QAC7D,CAACC,GAAOC,CAAQ,IAAIC,EAASJ,CAAY;AAU/C,SAAO;AAAA,IACL,WAAAC;AAAA,IACA,OAAAC;AAAA,IACA,MAXW,OAAOG,MAAkD;AACpE,UAAI,CAAC,OAAO,WAAY,OAAM,IAAI,MAAM,6BAA6B;AAErE,YAAMC,IAAS,MADI,IAAI,OAAO,WAAA,EACE,KAAKD,CAAqB;AAC1D,aAAAF,EAASG,EAAO,OAAO,GAChBA;AAAA,IAAA;AAAA,EAMP;AAEJ;"}