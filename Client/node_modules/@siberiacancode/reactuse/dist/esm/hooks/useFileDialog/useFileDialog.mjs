import { useState as g, useRef as f, useEffect as k } from "react";
const i = {
  multiple: !0,
  accept: "*",
  reset: !1
}, R = (...n) => {
  const u = typeof n[0] == "function" ? n[0] : void 0, t = u ? n[0] : n[1], [a, o] = g(null), e = f(null), l = f(u);
  l.current = u;
  const s = () => {
    o(null), l.current?.(null), e.current && (e.current.value = "");
  }, m = (c) => {
    if (!e.current) return;
    e.current.multiple = c?.multiple ?? t?.multiple ?? i.multiple, e.current.accept = c?.accept ?? t?.accept ?? i.accept;
    const r = c?.capture ?? t?.capture;
    r && (e.current.capture = r), (c?.reset ?? t?.reset ?? i.reset) && s(), e.current.click();
  };
  return k(() => {
    const c = () => {
      const r = document.createElement("input");
      return r.type = "file", r.onchange = (v) => {
        const { files: p } = v.target;
        o(p), l.current?.(p);
      }, r;
    };
    return e.current = c(), () => {
      e.current?.remove();
    };
  }, [t?.multiple, t?.accept, t?.capture, t?.reset]), { value: a, open: m, reset: s };
};
export {
  R as useFileDialog
};
//# sourceMappingURL=useFileDialog.mjs.map
