{"version":3,"file":"useQueue.mjs","sources":["../../../../src/hooks/useQueue/useQueue.ts"],"sourcesContent":["import { useState } from 'react';\nimport { flushSync } from 'react-dom';\n\n/** The use queue return type */\nexport interface UseQueueReturn<Value> {\n  /** Get the first element of the queue */\n  first: Value;\n  /** Get the last element of the queue */\n  last: Value;\n  /** The current queue */\n  queue: Value[];\n  /** Get the size of the queue */\n  size: number;\n  /** Add an element to the queue */\n  add: (element: Value) => void;\n  /** Clear the queue */\n  clear: () => void;\n  /** Remove an element from the queue */\n  remove: () => Value;\n}\n\n/**\n * @name useQueue\n * @description - Hook that manages a queue\n * @category State\n *\n * @template Value The type of the value\n * @param {Value[]} [initialValue=[]] The initial value of the queue\n * @returns {UseQueueReturn} An object containing the current queue and functions to interact with the queue\n *\n * @example\n * const { queue, add, remove, clear, first, last, size } = useQueue([1, 2, 3]);\n */\nexport const useQueue = <Value>(initialValue: Value[] = []): UseQueueReturn<Value> => {\n  const [queue, setQueue] = useState(initialValue);\n\n  const add = (element: Value) => setQueue((queue) => [...queue, element]);\n  const clear = () => setQueue([]);\n  const remove = () => {\n    let removed;\n    flushSync(() => {\n      setQueue(([first, ...rest]) => {\n        removed = first;\n        return rest;\n      });\n    });\n\n    return removed as Value;\n  };\n\n  return {\n    add,\n    remove,\n    clear,\n    first: queue[0],\n    last: queue[queue.length - 1],\n    size: queue.length,\n    queue\n  };\n};\n"],"names":["useQueue","initialValue","queue","setQueue","useState","element","removed","flushSync","first","rest"],"mappings":";;AAiCO,MAAMA,IAAW,CAAQC,IAAwB,OAA8B;AACpF,QAAM,CAACC,GAAOC,CAAQ,IAAIC,EAASH,CAAY;AAgB/C,SAAO;AAAA,IACL,KAfU,CAACI,MAAmBF,EAAS,CAACD,MAAU,CAAC,GAAGA,GAAOG,CAAO,CAAC;AAAA,IAgBrE,QAda,MAAM;AACnB,UAAIC;AACJ,aAAAC,EAAU,MAAM;AACd,QAAAJ,EAAS,CAAC,CAACK,GAAU,GAAAC,CAAI,OACvBH,IAAUE,GACHC,EACR;AAAA,MAAA,CACF,GAEMH;AAAA,IAAA;AAAA,IAMP,OAhBY,MAAMH,EAAS,EAAE;AAAA,IAiB7B,OAAOD,EAAM,CAAC;AAAA,IACd,MAAMA,EAAMA,EAAM,SAAS,CAAC;AAAA,IAC5B,MAAMA,EAAM;AAAA,IACZ,OAAAA;AAAA,EAAA;AAEJ;"}