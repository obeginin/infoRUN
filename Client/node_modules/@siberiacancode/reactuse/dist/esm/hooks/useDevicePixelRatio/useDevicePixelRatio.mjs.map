{"version":3,"file":"useDevicePixelRatio.mjs","sources":["../../../../src/hooks/useDevicePixelRatio/useDevicePixelRatio.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\n/** The use device pixel ratio return type */\nexport interface UseDevicePixelRatioReturn {\n  /** The ratio of the resolution in physical pixels to the resolution in CSS pixels */\n  ratio: number;\n  /** Whether the device pixel ratio is supported*/\n  supported: boolean;\n}\n\n/**\n * @name useDevicePixelRatio\n * @description - Hook that returns the device's pixel ratio\n * @category Utilities\n *\n * @browserapi window.devicePixelRatio https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\n *\n * @returns {UseDevicePixelRatioReturn} The ratio and supported flag\n *\n * @example\n * const { supported, ratio } = useDevicePixelRatio();\n */\nexport const useDevicePixelRatio = (): UseDevicePixelRatioReturn => {\n  const supported =\n    typeof window !== 'undefined' &&\n    typeof window.matchMedia === 'function' &&\n    typeof window.devicePixelRatio === 'number';\n\n  const [ratio, setRatio] = useState<number>(window.devicePixelRatio ?? 1);\n\n  useEffect(() => {\n    if (!supported) return;\n\n    const onChange = () => setRatio(window.devicePixelRatio);\n\n    const media = window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n    media.addEventListener('change', onChange);\n    return () => {\n      media.removeEventListener('change', onChange);\n    };\n  }, [ratio]);\n\n  return { supported, ratio };\n};\n"],"names":["useDevicePixelRatio","supported","ratio","setRatio","useState","useEffect","onChange","media"],"mappings":";AAsBO,MAAMA,IAAsB,MAAiC;AAClE,QAAMC,IACJ,OAAO,SAAW,OAClB,OAAO,OAAO,cAAe,cAC7B,OAAO,OAAO,oBAAqB,UAE/B,CAACC,GAAOC,CAAQ,IAAIC,EAAiB,OAAO,oBAAoB,CAAC;AAEvE,SAAAC,EAAU,MAAM;AACd,QAAI,CAACJ,EAAW;AAEhB,UAAMK,IAAW,MAAMH,EAAS,OAAO,gBAAgB,GAEjDI,IAAQ,OAAO,WAAW,gBAAgB,OAAO,gBAAgB,OAAO;AAC9E,WAAAA,EAAM,iBAAiB,UAAUD,CAAQ,GAClC,MAAM;AACX,MAAAC,EAAM,oBAAoB,UAAUD,CAAQ;AAAA,IAAA;AAAA,EAC9C,GACC,CAACJ,CAAK,CAAC,GAEH,EAAE,WAAAD,GAAW,OAAAC,EAAA;AACtB;"}