import { useRef as l, useState as d, useEffect as r } from "react";
function f(o, c) {
  const i = l(document.title), [e, s] = d(o ?? document.title), u = (n) => {
    const t = n.trim();
    t.length > 0 && (document.title = t);
  };
  return r(() => {
    typeof e == "string" && u(e);
  }, [e]), r(() => {
    const n = new MutationObserver(() => {
      s((t) => document && document.title !== t ? document.title : t);
    });
    return n.observe(document.head.querySelector("title"), {
      childList: !0
    }), () => {
      n.disconnect();
    };
  }, []), r(() => {
    if (c?.restoreOnUnmount)
      return () => {
        document.title = i.current;
      };
  }, []), { value: e, set: u };
}
export {
  f as useDocumentTitle
};
//# sourceMappingURL=useDocumentTitle.mjs.map
