"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("react"),A=require("../useDeviceOrientation/useDeviceOrientation.cjs"),D=require("../useOrientation/useOrientation.cjs"),x=require("../useRefState/useRefState.cjs"),B=require("../../utils/helpers/isTarget.cjs"),C=require("../../utils/helpers/getElement.cjs"),M=(...n)=>{const o=B.isTarget(n[0])?n[0]:void 0,p=n[1]?n[1]:n[0],i=x.useRefState(),s=D.useOrientation(),e=A.useDeviceOrientation(),{deviceOrientationRollAdjust:b=a=>a,deviceOrientationTiltAdjust:f=a=>a,mouseRollAdjust:y=a=>a,mouseTiltAdjust:O=a=>a}=p??{},[l,h]=g.useState({roll:0,tilt:0,source:"mouse"});return g.useEffect(()=>{if(!o&&!i.state)return;const a=o?C.getElement(o):i.current;if(!a)return;const v=d=>{const{left:R,top:T}=a.getBoundingClientRect(),k=R+window.scrollX,w=T+window.scrollY,u=()=>e.supported&&(e.value.alpha||e.value.gamma)?"deviceOrientation":"mouse",q=()=>{if(u()==="deviceOrientation"){let t;switch(s.value.orientationType){case"landscape-primary":t=e.value.gamma/90;break;case"landscape-secondary":t=-e.value.gamma/90;break;case"portrait-primary":t=-e.value.beta/90;break;case"portrait-secondary":t=e.value.beta/90;break;default:t=-e.value.beta/90}return b(t)}else{const t=d.pageY-w,r=a.getBoundingClientRect().height,c=-(t-r/2)/r;return y(c)}},S=()=>{if(u()==="deviceOrientation"){let t;switch(s.value.orientationType){case"landscape-primary":t=e.value.beta/90;break;case"landscape-secondary":t=-e.value.beta/90;break;case"portrait-primary":t=e.value.gamma/90;break;case"portrait-secondary":t=-e.value.gamma/90;break;default:t=e.value.gamma/90}return f(t)}else{const t=d.pageX-k,r=a.getBoundingClientRect().width,c=(t-r/2)/r;return O(c)}},j=u(),E=q(),P=S();h({roll:E,source:j,tilt:P})};return document.addEventListener("mousemove",v),()=>{document.removeEventListener("mousemove",v)}},[o,i.state,s.value.angle,s.value.orientationType,e.value.gamma,e.value.beta,e.value.alpha,e.value.absolute]),o?{value:l}:{ref:i,value:l}};exports.useParallax=M;
//# sourceMappingURL=useParallax.cjs.map
