"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("react"),S=require("../useRefState/useRefState.cjs"),R=require("../../utils/helpers/isTarget.cjs"),V=require("../../utils/helpers/getElement.cjs"),b=(...n)=>{const s=R.isTarget(n[0])?n[0]:void 0,o=s?typeof n[1]=="object"?n[1]:{onDrop:n[1]}:typeof n[0]=="object"?n[0]:{onDrop:n[0]},u=S.useRefState(),c=g.useRef(0),[p,D]=g.useState(null),[E,v]=g.useState(!1),a=o.dataTypes,L=e=>{if(!e.dataTransfer)return null;const t=Array.from(e.dataTransfer.files);return o.multiple?t:t.length?[t[0]]:null},m=e=>a?typeof a=="function"?a(e):a.length?e.length?e.every(t=>(console.log("type",t),console.log("dataTypes",a),a.some(i=>t.includes(i)))):!1:!0:!0,h=e=>{const t=Array.from(e).map(l=>l.type),i=m(t),f=o.multiple||e.length<=1;return i&&f};return g.useEffect(()=>{if(!s&&!u.state)return;const e=s?V.getElement(s):u.current;if(!e)return;const t=(r,d)=>{if(!r.dataTransfer)return;if(!h(r.dataTransfer.items)){r.dataTransfer.dropEffect="none";return}r.preventDefault(),r.dataTransfer.dropEffect="copy";const y=L(r);if(d==="drop"){c.current=0,v(!1),D(y),o.onDrop?.(y,r);return}if(d==="enter"){c.current+=1,v(!0),o.onEnter?.(r);return}if(d==="leave"){if(c.current-=1,c.current!==0)return;v(!1),o.onLeave?.(r);return}d==="over"&&o.onOver?.(r)},i=r=>t(r,"drop"),f=r=>t(r,"over"),l=r=>t(r,"enter"),T=r=>t(r,"leave");return e.addEventListener("dragenter",l),e.addEventListener("dragover",f),e.addEventListener("dragleave",T),e.addEventListener("drop",i),()=>{e.removeEventListener("dragenter",l),e.removeEventListener("dragover",f),e.removeEventListener("dragleave",T),e.removeEventListener("drop",i)}},[s,u.current]),s?{overed:E,files:p}:{ref:u,overed:E,files:p}};exports.useDropZone=b;
//# sourceMappingURL=useDropZone.cjs.map
