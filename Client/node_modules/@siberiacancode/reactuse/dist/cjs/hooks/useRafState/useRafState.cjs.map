{"version":3,"file":"useRafState.cjs","sources":["../../../../src/hooks/useRafState/useRafState.ts"],"sourcesContent":["import { useRef, useState } from 'react';\n\nimport { useUnmount } from '../useUnmount/useUnmount';\n\n/* The use raf value params type */\nexport type UseRafStateReturn<Value> = [Value, (value: Value) => void];\n\n/**\n * @name useRafState\n * @description - Hook that returns the value and a function to set the value\n * @category State\n *\n * @template Value The type of the value\n * @param {Value} initialValue The initial value\n * @returns {UseRafStateReturn<Value>} An array containing the value and a function to set the value\n *\n * @example\n * const [value, setValue] = useRafState(initialValue);\n */\nexport const useRafState = <Value>(initialValue: (() => Value) | Value) => {\n  const rafIdRef = useRef(0);\n  const [value, setValue] = useState(initialValue);\n\n  const set = (value: Value) => {\n    cancelAnimationFrame(rafIdRef.current);\n    rafIdRef.current = requestAnimationFrame(() => setValue(value));\n  };\n\n  useUnmount(() => cancelAnimationFrame(rafIdRef.current));\n\n  return [value, set] as const;\n};\n"],"names":["useRafState","initialValue","rafIdRef","useRef","value","setValue","useState","set","useUnmount"],"mappings":"mJAmBaA,EAAsBC,GAAwC,CACzE,MAAMC,EAAWC,EAAAA,OAAO,CAAC,EACnB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAASL,CAAY,EAEzCM,EAAOH,GAAiB,CAC5B,qBAAqBF,EAAS,OAAO,EACrCA,EAAS,QAAU,sBAAsB,IAAMG,EAASD,CAAK,CAAC,CAAA,EAGhEI,OAAAA,EAAAA,WAAW,IAAM,qBAAqBN,EAAS,OAAO,CAAC,EAEhD,CAACE,EAAOG,CAAG,CACpB"}