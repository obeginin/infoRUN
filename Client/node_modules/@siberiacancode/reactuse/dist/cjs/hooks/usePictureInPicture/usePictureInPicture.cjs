"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("react"),v=require("../useRefState/useRefState.cjs"),g=require("../../utils/helpers/isTarget.cjs"),m=require("../../utils/helpers/getElement.cjs"),I=(...n)=>{const t=g.isTarget(n[0])?n[0]:void 0,r=(t?n[1]:n[0])??{},[a,u]=i.useState(!1),f=v.useRefState(),c=i.useRef(null),o=i.useRef(r);o.current=r;const s=typeof document<"u"&&"pictureInPictureEnabled"in document,l=async()=>{s&&c.current&&(await c.current.requestPictureInPicture(),u(!0),r.onEnter?.())},d=async()=>{s&&(await document.exitPictureInPicture(),u(!1),r.onExit?.())};i.useEffect(()=>{const e=t?m.getElement(t):f.current;if(!e)return;c.current=e;const P=()=>{u(!0),o.current.onEnter?.()},E=()=>{u(!1),o.current.onExit?.()};return e.addEventListener("enterpictureinpicture",P),e.addEventListener("leavepictureinpicture",E),()=>{e.removeEventListener("enterpictureinpicture",P),e.removeEventListener("leavepictureinpicture",E)}},[t]);const p={open:a,supported:s,enter:l,exit:d,toggle:async()=>{a?await d():await l()}};return t?p:{...p,ref:f}};exports.usePictureInPicture=I;
//# sourceMappingURL=usePictureInPicture.cjs.map
