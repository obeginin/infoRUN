"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("react"),p=u=>{const o=typeof navigator<"u"&&"bluetooth"in navigator,{acceptAllDevices:d=!1,filters:s,optionalServices:l}=u??{},[f,c]=t.useState(!1),[e,r]=t.useState(void 0),[g,a]=t.useState(void 0),S=async()=>{if(!o)return;const n=await navigator.bluetooth.requestDevice({acceptAllDevices:d,optionalServices:l,...s&&{filters:s,acceptAllDevices:!1}});r(n)};return t.useEffect(()=>{if(e&&e.gatt){const n=async()=>{if(!e.gatt)return;const v=await e.gatt.connect();a(v),c(v.connected)},i=()=>{a(void 0),r(void 0),c(!1)};return e.addEventListener("gattserverdisconnected",i),n(),()=>{e.removeEventListener("gattserverdisconnected",i),e.gatt?.disconnect()}}},[e]),{supported:o,connected:f,device:e,requestDevice:S,server:g}};exports.useBluetooth=p;
//# sourceMappingURL=useBluetooth.cjs.map
