{"version":3,"file":"useDebounceCallback.cjs","sources":["../../../../src/hooks/useDebounceCallback/useDebounceCallback.ts"],"sourcesContent":["import { useMemo, useRef } from 'react';\n\nexport type DebouncedCallback<Params extends unknown[]> = ((...args: Params) => void) & {\n  cancel: () => void;\n};\n\n/**\n * @name useDebounceCallback\n * @description - Hook that creates a debounced callback\n * @category Utilities\n *\n * @template Params The type of the params\n * @template Return The type of the return\n * @param {(...args: Params) => Return} callback The callback function\n * @param {number} delay The delay in milliseconds\n * @returns {(...args: Params) => Return} The callback with debounce\n *\n * @example\n * const debouncedCallback = useDebounceCallback(() => console.log('callback'), 500);\n */\nexport const useDebounceCallback = <Params extends unknown[], Return>(\n  callback: (...args: Params) => Return,\n  delay: number\n): DebouncedCallback<Params> => {\n  const internalCallbackRef = useRef(callback);\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const delayRef = useRef(delay);\n\n  internalCallbackRef.current = callback;\n  delayRef.current = delay;\n\n  const debounced = useMemo(() => {\n    const cancel = () => {\n      if (!timerRef.current) return;\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    };\n\n    const debouncedCallback = function (this: any, ...args: Params) {\n      cancel();\n      timerRef.current = setTimeout(() => {\n        internalCallbackRef.current.apply(this, args);\n      }, delayRef.current);\n    };\n\n    debouncedCallback.cancel = cancel;\n\n    return debouncedCallback;\n  }, []);\n\n  return debounced;\n};\n"],"names":["useDebounceCallback","callback","delay","internalCallbackRef","useRef","timerRef","delayRef","useMemo","cancel","debouncedCallback","args"],"mappings":"yGAoBaA,EAAsB,CACjCC,EACAC,IAC8B,CAC9B,MAAMC,EAAsBC,EAAAA,OAAOH,CAAQ,EACrCI,EAAWD,EAAAA,OAA6C,IAAI,EAC5DE,EAAWF,EAAAA,OAAOF,CAAK,EAE7B,OAAAC,EAAoB,QAAUF,EAC9BK,EAAS,QAAUJ,EAEDK,EAAAA,QAAQ,IAAM,CAC9B,MAAMC,EAAS,IAAM,CACdH,EAAS,UACd,aAAaA,EAAS,OAAO,EAC7BA,EAAS,QAAU,KAAA,EAGfI,EAAoB,YAAwBC,EAAc,CAC9DF,EAAA,EACAH,EAAS,QAAU,WAAW,IAAM,CAClCF,EAAoB,QAAQ,MAAM,KAAMO,CAAI,CAAA,EAC3CJ,EAAS,OAAO,CAAA,EAGrB,OAAAG,EAAkB,OAASD,EAEpBC,CAAA,EACN,EAAE,CAGP"}