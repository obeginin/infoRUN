{"version":3,"file":"useEyeDropper.cjs","sources":["../../../../src/hooks/useEyeDropper/useEyeDropper.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport interface ColorSelectionOptions {\n  signal?: AbortSignal;\n}\n\nexport interface ColorSelectionResult {\n  sRGBHex: string;\n}\n\nexport interface EyeDropper {\n  open: (options?: ColorSelectionOptions) => Promise<ColorSelectionResult>;\n}\n\nexport interface EyeDropperConstructor {\n  new (): EyeDropper;\n}\n\ndeclare global {\n  interface Window {\n    readonly EyeDropper?: EyeDropperConstructor | undefined;\n  }\n}\n\n/** The color selection return type */\nexport interface UseEyeDropperReturn {\n  /** The eye dropper supported status */\n  supported: boolean;\n  /** The eye dropper value */\n  value?: string;\n  /** The eye dropper open method */\n  open: (colorSelectionOptions?: ColorSelectionOptions) => Promise<ColorSelectionResult>;\n}\n\n/**\n * @name useEyeDropper\n * @description - Hook that gives you access to the eye dropper\n * @category Browser\n *\n * @browserapi EyeDropper https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper\n *\n * @param {string} [initialValue=undefined] The initial value for the eye dropper\n * @returns {UseEyeDropperReturn} An object containing the supported status, the value and the open method\n *\n * @example\n * const { supported, value, open } = useEyeDropper();\n */\nexport const useEyeDropper = (\n  initialValue: string | undefined = undefined\n): UseEyeDropperReturn => {\n  const supported = typeof window !== 'undefined' && 'EyeDropper' in window;\n  const [value, setValue] = useState(initialValue);\n\n  const open = async (colorSelectionOptions?: ColorSelectionOptions) => {\n    if (!window.EyeDropper) throw new Error('EyeDropper is not supported');\n    const eyeDropper = new window.EyeDropper();\n    const result = await eyeDropper.open(colorSelectionOptions);\n    setValue(result.sRGBHex);\n    return result;\n  };\n\n  return {\n    supported,\n    value,\n    open\n  };\n};\n"],"names":["useEyeDropper","initialValue","supported","value","setValue","useState","colorSelectionOptions","result"],"mappings":"yGA+CaA,EAAgB,CAC3BC,EAAmC,SACX,CACxB,MAAMC,EAAY,OAAO,OAAW,KAAe,eAAgB,OAC7D,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAASJ,CAAY,EAU/C,MAAO,CACL,UAAAC,EACA,MAAAC,EACA,KAXW,MAAOG,GAAkD,CACpE,GAAI,CAAC,OAAO,WAAY,MAAM,IAAI,MAAM,6BAA6B,EAErE,MAAMC,EAAS,MADI,IAAI,OAAO,WAAA,EACE,KAAKD,CAAqB,EAC1D,OAAAF,EAASG,EAAO,OAAO,EAChBA,CAAA,CAMP,CAEJ"}