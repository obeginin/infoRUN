"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=require("react"),m=require("../useRefState/useRefState.cjs"),R=require("../../utils/helpers/isTarget.cjs"),q=require("../../utils/helpers/getElement.cjs"),H=(...n)=>{const c=R.isTarget(n[0])?n[0]:void 0,f=n[1]||(typeof n[0]=="object"?n[0]:{}),{enabled:v=!0}=f,l=m.useRefState(),o=L.useRef(f);if(o.current=f,L.useEffect(()=>{if(!v||!c&&!l.state)return;const e=c?q.getElement(c):l.state;if(!e)return;let s=!0,a=0,h=0;const g=()=>{if(o.current.force)return;const{scrollHeight:t,clientHeight:u,scrollTop:r}=e,i=t-u,d=i/2;console.log(i,r,d,r<h,i-r<=d),r<h?s=!1:i-r<=d&&(s=!0),h=r},S=t=>{o.current.force||(t.deltaY<0?s=!1:g())},E=t=>{o.current.force||(a=t.touches[0].clientY)},T=t=>{if(o.current.force)return;const u=t.touches[0].clientY;a-u<0?s=!1:g(),a=u},Y=()=>{!s&&!o.current.force||e.scrollTo({top:e.scrollHeight})};e.addEventListener("wheel",S),e.addEventListener("touchstart",E),e.addEventListener("touchmove",T);const b=new MutationObserver(Y);return b.observe(e,{childList:!0,subtree:!0,characterData:!0}),()=>{b.disconnect(),e.removeEventListener("wheel",S),e.removeEventListener("touchstart",E),e.removeEventListener("touchmove",T)}},[v,c,l.state]),!c)return l};exports.useAutoScroll=H;
//# sourceMappingURL=useAutoScroll.cjs.map
