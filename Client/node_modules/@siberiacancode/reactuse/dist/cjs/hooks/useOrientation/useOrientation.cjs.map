{"version":3,"file":"useOrientation.cjs","sources":["../../../../src/hooks/useOrientation/useOrientation.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\ndeclare global {\n  interface ScreenOrientation {\n    lock: (orientation: OrientationLockType) => Promise<void>;\n  }\n}\n\n/* The use device orientation value type */\nexport interface UseOrientationValue {\n  /** The current angle */\n  angle: number;\n  /** The current orientation type */\n  orientationType: OrientationType;\n}\n\n/* The screen lock orientation type */\nexport type OrientationLockType =\n  | 'any'\n  | 'landscape-primary'\n  | 'landscape-secondary'\n  | 'landscape'\n  | 'natural'\n  | 'portrait-primary'\n  | 'portrait-secondary'\n  | 'portrait';\n\n/* The use device orientation return type */\nexport interface useOrientationReturn {\n  /** Whether the screen orientation is supported */\n  supported: boolean;\n  /** The current screen orientation value */\n  value: UseOrientationValue;\n  /** Lock the screen orientation */\n  lock: (orientation: OrientationLockType) => void;\n  /** Unlock the screen orientation */\n  unlock: () => void;\n}\n\n/**\n * @name useOrientation\n * @description - Hook that provides the current screen orientation\n * @category Sensors\n *\n * @browserapi screen.orientation https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n *\n * @returns {useOrientationReturn} The current screen orientation\n *\n * @example\n * const { supported, value, lock, unlock } = useOrientation();\n */\nexport const useOrientation = (): useOrientationReturn => {\n  const supported =\n    typeof window !== 'undefined' && 'screen' in window && 'orientation' in window.screen;\n  const orientation = (supported ? window.screen.orientation : {}) as ScreenOrientation;\n\n  const [value, setValue] = useState<UseOrientationValue>(() => {\n    return {\n      angle: orientation?.angle ?? 0,\n      orientationType: orientation?.type\n    };\n  });\n\n  useEffect(() => {\n    if (!supported) return;\n\n    const onOrientationChange = () =>\n      setValue({\n        angle: orientation.angle,\n        orientationType: orientation.type\n      });\n\n    window.addEventListener('orientationchange', onOrientationChange);\n    return () => {\n      window.removeEventListener('orientationchange', onOrientationChange);\n    };\n  });\n\n  const lock = (type: OrientationLockType) => {\n    if (supported && typeof orientation.lock === 'function') return orientation.lock(type);\n  };\n\n  const unlock = () => {\n    if (supported && typeof orientation.unlock === 'function') orientation.unlock();\n  };\n\n  return {\n    supported,\n    value,\n    lock,\n    unlock\n  };\n};\n"],"names":["useOrientation","supported","orientation","value","setValue","useState","useEffect","onOrientationChange","type"],"mappings":"yGAmDaA,EAAiB,IAA4B,CACxD,MAAMC,EACJ,OAAO,OAAW,KAAe,WAAY,QAAU,gBAAiB,OAAO,OAC3EC,EAAeD,EAAY,OAAO,OAAO,YAAc,CAAA,EAEvD,CAACE,EAAOC,CAAQ,EAAIC,EAAAA,SAA8B,KAC/C,CACL,MAAOH,GAAa,OAAS,EAC7B,gBAAiBA,GAAa,IAAA,EAEjC,EAEDI,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,CAACL,EAAW,OAEhB,MAAMM,EAAsB,IAC1BH,EAAS,CACP,MAAOF,EAAY,MACnB,gBAAiBA,EAAY,IAAA,CAC9B,EAEH,cAAO,iBAAiB,oBAAqBK,CAAmB,EACzD,IAAM,CACX,OAAO,oBAAoB,oBAAqBA,CAAmB,CAAA,CACrE,CACD,EAUM,CACL,UAAAN,EACA,MAAAE,EACA,KAXYK,GAA8B,CAC1C,GAAIP,GAAa,OAAOC,EAAY,MAAS,WAAY,OAAOA,EAAY,KAAKM,CAAI,CAAA,EAWrF,OARa,IAAM,CACfP,GAAa,OAAOC,EAAY,QAAW,cAAwB,OAAA,CAAO,CAO9E,CAEJ"}