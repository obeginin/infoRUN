{"version":3,"file":"useDevicePixelRatio.cjs","sources":["../../../../src/hooks/useDevicePixelRatio/useDevicePixelRatio.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\n/** The use device pixel ratio return type */\nexport interface UseDevicePixelRatioReturn {\n  /** The ratio of the resolution in physical pixels to the resolution in CSS pixels */\n  ratio: number;\n  /** Whether the device pixel ratio is supported*/\n  supported: boolean;\n}\n\n/**\n * @name useDevicePixelRatio\n * @description - Hook that returns the device's pixel ratio\n * @category Utilities\n *\n * @browserapi window.devicePixelRatio https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\n *\n * @returns {UseDevicePixelRatioReturn} The ratio and supported flag\n *\n * @example\n * const { supported, ratio } = useDevicePixelRatio();\n */\nexport const useDevicePixelRatio = (): UseDevicePixelRatioReturn => {\n  const supported =\n    typeof window !== 'undefined' &&\n    typeof window.matchMedia === 'function' &&\n    typeof window.devicePixelRatio === 'number';\n\n  const [ratio, setRatio] = useState<number>(window.devicePixelRatio ?? 1);\n\n  useEffect(() => {\n    if (!supported) return;\n\n    const onChange = () => setRatio(window.devicePixelRatio);\n\n    const media = window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n    media.addEventListener('change', onChange);\n    return () => {\n      media.removeEventListener('change', onChange);\n    };\n  }, [ratio]);\n\n  return { supported, ratio };\n};\n"],"names":["useDevicePixelRatio","supported","ratio","setRatio","useState","useEffect","onChange","media"],"mappings":"yGAsBaA,EAAsB,IAAiC,CAClE,MAAMC,EACJ,OAAO,OAAW,KAClB,OAAO,OAAO,YAAe,YAC7B,OAAO,OAAO,kBAAqB,SAE/B,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAiB,OAAO,kBAAoB,CAAC,EAEvEC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,CAACJ,EAAW,OAEhB,MAAMK,EAAW,IAAMH,EAAS,OAAO,gBAAgB,EAEjDI,EAAQ,OAAO,WAAW,gBAAgB,OAAO,gBAAgB,OAAO,EAC9E,OAAAA,EAAM,iBAAiB,SAAUD,CAAQ,EAClC,IAAM,CACXC,EAAM,oBAAoB,SAAUD,CAAQ,CAAA,CAC9C,EACC,CAACJ,CAAK,CAAC,EAEH,CAAE,UAAAD,EAAW,MAAAC,CAAA,CACtB"}